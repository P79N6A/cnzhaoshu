{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4677\"],{\"7e1e\":function(t,e,n){\"use strict\";n.d(e,\"c\",function(){return a}),n.d(e,\"b\",function(){return i}),n.d(e,\"a\",function(){return s});var o=n(\"66df\"),r=n(\"c276\"),a=function(t){var e=Object(r[\"c\"])(t);return o[\"a\"].request({url:\"Calculation.php\",data:e,method:\"post\"})},i=function(t){var e=Object(r[\"c\"])(t);return o[\"a\"].request({url:\"tree_operation.php\",data:e,method:\"post\"})},s=function(t){var e=Object(r[\"c\"])(t);return o[\"a\"].request({url:\"update_tender_status.php\",data:e,method:\"post\"})}},cf21:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"div\",{staticStyle:{\"padding-bottom\":\"10px\"}},[n(\"div\",[n(\"Input\",{staticStyle:{width:\"170px\",\"margin-right\":\"10px\"},attrs:{placeholder:\"甲方\",clearable:\"\"},model:{value:t.partya_company_name,callback:function(e){t.partya_company_name=e},expression:\"partya_company_name\"}}),n(\"Input\",{staticStyle:{width:\"170px\",\"margin-right\":\"10px\"},attrs:{placeholder:\"项目\",clearable:\"\"},model:{value:t.project_name,callback:function(e){t.project_name=e},expression:\"project_name\"}}),n(\"Input\",{staticStyle:{width:\"170px\",\"margin-right\":\"10px\"},attrs:{placeholder:\"手机\",clearable:\"\"},model:{value:t.tel,callback:function(e){t.tel=e},expression:\"tel\"}}),n(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"primary\"},on:{click:function(e){t.getList(!0)}}},[n(\"Icon\",{attrs:{type:\"search\"}}),t._v(\"\\n        搜索\\n      \")],1),n(\"div\",{staticStyle:{float:\"right\",\"padding-right\":\"20px\"}},[n(\"Select\",{staticStyle:{width:\"100px\"},on:{\"on-change\":function(e){t.getList(!0)}},model:{value:t.status,callback:function(e){t.status=e},expression:\"status\"}},[n(\"Option\",{attrs:{value:2}},[t._v(\"招标中\")]),n(\"Option\",{attrs:{value:3}},[t._v(\"招标终止\")]),n(\"Option\",{attrs:{value:4}},[t._v(\"招标结束\")])],1),n(\"Select\",{staticStyle:{width:\"100px\",\"margin-left\":\"20px\"},on:{\"on-change\":function(e){t.getList(!0)}},model:{value:t.audit_status,callback:function(e){t.audit_status=e},expression:\"audit_status\"}},[n(\"Option\",{attrs:{value:2}},[t._v(\"待审核\")]),n(\"Option\",{attrs:{value:1}},[t._v(\"已审核\")])],1)],1)],1)]),n(\"Table\",{class:t.isflex?\"flextree_list\":\"\",attrs:{border:\"\",columns:t.columns,data:t.bidList},on:{\"on-row-click\":t.linkInfo}}),n(\"div\",{staticStyle:{padding:\"20px 0\",\"text-align\":\"center\",background:\"#fff\"}},[n(\"Page\",{attrs:{total:t.totol_num,\"page-size\":20,current:t.p,\"show-elevator\":\"\"},on:{\"on-change\":t.changePage}})],1)],1)},r=[],a=n(\"c93e\"),i=(n(\"cadf\"),n(\"551c\"),n(\"097d\"),n(\"7e1e\")),s=(n(\"c276\"),n(\"2f62\")),c={data:function(){var t=this;return{isflex:!1,status:2,audit_status:2,partya_company_name:\"\",project_name:\"\",tel:\"\",totol_num:\"\",columns:[{title:\"序号\",key:\"name\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.index+1)])}},{title:\"订单编号\",key:\"order_num\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.project_info.order_num)])}},{title:\"项目名称\",key:\"name\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.project_info.project_name)])}},{title:\"招标进度\",key:\"jindu\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.data_info.unaudited)])}},{title:\"剩余时间\",key:\"shijian\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.project_info.Up_time)])}},{title:\"用苗地\",key:\"address\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.project_info.hcity+e.row.project_info.hproper)])}},{title:\"甲方\",key:\"partya\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.company_info.company_name)])}},{title:\"联系人\",key:\"lianxi\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.company_info.contacts)])}},{title:\"联系电话\",key:\"tel\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.company_info.tel)])}},{title:\"待审核数\",key:\"daishenhe\",render:function(t,e){return t(\"div\",[t(\"Icon\",{props:{type:\"person\"}}),t(\"strong\",e.row.data_info.total_sum)])},sortable:!0},{title:\"Action\",key:\"action\",width:150,align:\"center\",render:function(e,n){return 3==n.row.project_info.status?e(\"div\",[e(\"Button\",{props:{type:\"primary\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(e){e.stopPropagation(),window.event.cancelBubble=!0,t.changeStatus(n.row.index,!0)}}},\"启用\")]):2==n.row.project_info.status?e(\"div\",[e(\"Button\",{props:{type:\"error\",size:\"small\"},on:{click:function(){t.changeStatus(n.row.index,!1)}}},\"禁用\")]):void 0}}],bidList:[],p:1}},methods:Object(a[\"a\"])({},Object(s[\"c\"])([\"setBreadCrumb\",\"setTagNavList\",\"addTag\",\"setLocal\",\"removeTag\"]),{linkInfo:function(t,e){this.$router.push({name:\"projectInfo\",params:{id:t.id}})},getList:function(t){var e=this;t&&(this.p=1);var n={p:this.p,status:this.status,audit_status:this.audit_status,partya_company_name:this.partya_company_name,project_name:this.project_name,tel:this.tel};this.$Message.loading({content:\"加载中\",duration:0}),Object(i[\"c\"])(n).then(function(t){e.$Message.destroy(),e.bidList=t.data.data,e.totol_num=t.data.totol_num})},changePage:function(t){this.p=t,this.getList()},handleScroll:function(t){var e=t.target.scrollTop,n=document.getElementsByClassName(\"ivu-table-wrapper\")[0].offsetTop-64;this.isflex=e>n},changeStatus:function(t,e){var n=this,o=this.bidList[t],r={tender_order_id:o.project_info.project_id,status:e?2:3};changeBidStatus(r).then(function(o){0==o.data.status?(n.$Message.success({content:\"操作成功\"}),n.$set(n.bidList[t].project_info,\"status\",e?2:3)):n.$Message.warning({content:\"服务器繁忙\"})})}}),mounted:function(){this.getList(!0),document.getElementsByClassName(\"content-wrapper\")[0].addEventListener(\"scroll\",this.handleScroll)},beforeDestroy:function(){document.getElementsByClassName(\"content-wrapper\")[0].removeEventListener(\"scroll\",this.handleScroll)}},p=c,u=n(\"2877\"),l=Object(u[\"a\"])(p,o,r,!1,null,null,null);l.options.__file=\"project-list.vue\";e[\"default\"]=l.exports}}]);","extractedComments":[]}