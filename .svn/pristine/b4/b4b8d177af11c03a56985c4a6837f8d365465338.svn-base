{"remainingRequest":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info-extend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info-extend.vue","mtime":1536820014896},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\.babelrc","mtime":1536565681652},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536566309539},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { changeBidStatus } from '@/api/data';\nexport default {\n  name: \"project-info-extend\",\n  props: {\n    params: Object\n  },\n  data: function data() {\n    return {\n      value1: 0,\n      imgwarp: false,\n      bidList: [],\n      warpImgs: [],\n      abandonValue: \"\",\n      tender_status: 1\n    };\n  },\n  methods: {\n    tabclick: function tabclick(name) {\n      this.tender_status = name + 1;\n    },\n    closeImgWarp: function closeImgWarp(e) {\n      if (e.target.className != \"img-warp-inner\") return;\n      this.imgwarp = false;\n    },\n    showImgWarp: function showImgWarp(index) {\n      var bidOne = this.bidList[index];\n\n      if (!bidOne.tree_imgs) {\n        return;\n      }\n\n      this.warpImgs = bidOne.tree_imgs;\n      this.imgwarp = true;\n    },\n    abandon: function abandon(index) {\n      var _this = this;\n\n      this.abandonValue = \"\";\n      this.$Modal.confirm({\n        title: \"舍弃理由\",\n        render: function render(h) {\n          return h('Input', {\n            props: {\n              value: _this.abandonValue,\n              autofocus: \"autofocus\",\n              placeholder: '请输入舍弃理由!'\n            },\n            on: {\n              input: function input(val) {\n                _this.abandonValue = val;\n              }\n            }\n          });\n        },\n        onOk: function onOk() {\n          if (_this.abandonValue == \"\") {\n            _this.$Message.warning({\n              content: \"请填写舍弃理由！\"\n            });\n          } else {\n            _this.changeStatus(index, false);\n          }\n        }\n      }); //解决框架自行获取焦点Bug\n\n      setTimeout(function () {\n        document.getElementsByClassName(\"ivu-input\")[0].focus();\n      }, 100);\n    },\n    recommend: function recommend(index) {\n      var _this2 = this;\n\n      this.$Modal.confirm({\n        title: \"推荐\",\n        content: \"确定推荐本条投标吗？\",\n        \"ok-text\": \"推荐\",\n        onOk: function onOk() {\n          _this2.changeStatus(index, true);\n        }\n      });\n    },\n    changeStatus: function changeStatus(index, is) {\n      var _this3 = this;\n\n      var bidOne = this.bidList[index];\n      var data = {\n        tender_order_id: bidOne.tender_order_id,\n        status: is ? 2 : 3,\n        remark: is ? \"\" : this.abandonValue\n      };\n      changeBidStatus(data).then(function (res) {\n        if (res.data.status == 0) {\n          _this3.$Message.success({\n            content: \"操作成功\"\n          });\n\n          _this3.$set(_this3.bidList[index], \"tender_status\", is ? 2 : 3);\n        } else {\n          _this3.$Message.warning({\n            content: \"服务器繁忙\"\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.bidList = this.params.row.bid_list;\n  },\n  directives: {\n    focus: {\n      // 指令的定义\n      inserted: function inserted(el) {\n        el.focus();\n      }\n    }\n  }\n};",{"version":3,"sources":["project-info-extend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,SAAA,eAAA,QAAA,YAAA;AACA,eAAA;AACA,QAAA,qBADA;AAEA,SAAA;AACA,YAAA;AADA,GAFA;AAKA,MALA,kBAKA;AACA,WAAA;AACA,cAAA,CADA;AAEA,eAAA,KAFA;AAGA,eAAA,EAHA;AAIA,gBAAA,EAJA;AAKA,oBAAA,EALA;AAMA,qBAAA;AANA,KAAA;AASA,GAfA;AAgBA,WAAA;AACA,YADA,oBACA,IADA,EACA;AACA,WAAA,aAAA,GAAA,OAAA,CAAA;AACA,KAHA;AAIA,gBAJA,wBAIA,CAJA,EAIA;AACA,UAAA,EAAA,MAAA,CAAA,SAAA,IAAA,gBAAA,EAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAPA;AAQA,eARA,uBAQA,KARA,EAQA;AACA,UAAA,SAAA,KAAA,OAAA,CAAA,KAAA,CAAA;;AACA,UAAA,CAAA,OAAA,SAAA,EAAA;AACA;AACA;;AACA,WAAA,QAAA,GAAA,OAAA,SAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAfA;AAgBA,WAhBA,mBAgBA,KAhBA,EAgBA;AAAA;;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,eAAA,MADA;AAEA,gBAAA,gBAAA,CAAA,EAAA;AACA,iBAAA,EAAA,OAAA,EAAA;AACA,mBAAA;AACA,qBAAA,MAAA,YADA;AAEA,yBAAA,WAFA;AAGA,2BAAA;AAHA,aADA;AAMA,gBAAA;AACA,qBAAA,eAAA,GAAA,EAAA;AACA,sBAAA,YAAA,GAAA,GAAA;AACA;AAHA;AANA,WAAA,CAAA;AAYA,SAfA;AAgBA,cAAA,gBAAA;AACA,cAAA,MAAA,YAAA,IAAA,EAAA,EAAA;AACA,kBAAA,QAAA,CAAA,OAAA,CAAA;AACA,uBAAA;AADA,aAAA;AAGA,WAJA,MAIA;AACA,kBAAA,YAAA,CAAA,KAAA,EAAA,KAAA;AACA;AACA;AAxBA,OAAA,EAFA,CA4BA;;AACA,iBAAA,YAAA;AACA,iBAAA,sBAAA,CAAA,WAAA,EAAA,CAAA,EAAA,KAAA;AACA,OAFA,EAEA,GAFA;AAIA,KAjDA;AAkDA,aAlDA,qBAkDA,KAlDA,EAkDA;AAAA;;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,eAAA,IADA;AAEA,iBAAA,YAFA;AAGA,mBAAA,IAHA;AAIA,cAAA,gBAAA;AACA,iBAAA,YAAA,CAAA,KAAA,EAAA,IAAA;AACA;AANA,OAAA;AASA,KA5DA;AA6DA,gBA7DA,wBA6DA,KA7DA,EA6DA,EA7DA,EA6DA;AAAA;;AACA,UAAA,SAAA,KAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,OAAA;AACA,yBAAA,OAAA,eADA;AAEA,gBAAA,KAAA,CAAA,GAAA,CAFA;AAGA,gBAAA,KAAA,EAAA,GAAA,KAAA;AAHA,OAAA;AAKA,sBAAA,IAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,iBAAA,QAAA,CAAA,OAAA,CAAA;AACA,qBAAA;AADA,WAAA;;AAGA,iBAAA,IAAA,CAAA,OAAA,OAAA,CAAA,KAAA,CAAA,EAAA,eAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,SALA,MAKA;AACA,iBAAA,QAAA,CAAA,OAAA,CAAA;AACA,qBAAA;AADA,WAAA;AAGA;AACA,OAXA;AAYA;AAhFA,GAhBA;AAkGA,SAlGA,qBAkGA;AACA,SAAA,OAAA,GAAA,KAAA,MAAA,CAAA,GAAA,CAAA,QAAA;AACA,GApGA;AAqGA,cAAA;AACA,WAAA;AACA;AACA,gBAAA,kBAAA,EAAA,EAAA;AACA,WAAA,KAAA;AACA;AAJA;AADA;AArGA,CAAA","sourcesContent":["<style scoped>\n  .img-warp{\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(1,1,1,.5);\n    z-index: 10000;\n  }\n  .img-warp-inner{\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    height: 667px;\n  }\n  .demo-carousel img{\n    height: 667px;\n  }\n  .dengpostition{\n    position: relative;\n    margin: 0 auto;\n    width: 375px;\n    margin-top: 50px;\n  }\n  .left-img-warp{\n    height: 60px;\n  }\n  .left-img-warp img{\n    height: 60px;\n    padding-left: 20px;\n  }\n  .bind-one span{\n    margin-right: 20px;\n  }\n  .bind-one Card{\n    height: 65px;\n  }\n</style>\n<template>\n  <div>\n    <div class=\"img-warp\" v-show=\"imgwarp\" @click=\"closeImgWarp\">\n      <div class=\"img-warp-inner\">\n        <Carousel v-model=\"value1\" loop :height=\"667\" class=\"dengpostition\">\n          <CarouselItem v-for=\"item in warpImgs\">\n            <div class=\"demo-carousel\"><img :src=\"item\" alt=\"\"></div>\n          </CarouselItem>\n        </Carousel>\n      </div>\n\n    </div>\n    <div class=\"bind-one\">\n      <Tabs type=\"card\" size=\"small\" @on-click=\"tabclick\">\n        <TabPane @on-click=\"tender_status = 1\" label=\"待审核\">\n        </TabPane>\n        <TabPane @on-click=\"tender_status = 2\" label=\"已推荐\">\n        </TabPane>\n        <TabPane @on-click=\"tender_status = 3\" label=\"已舍弃\">\n        </TabPane>\n      </Tabs>\n      <div>\n        <Card v-for=\"(item,index) in bidList\" v-show=\"item.tender_status == tender_status\">\n          <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"code-row-bg\">\n            <Col span=\"3\" class=\"left-img-warp\" ><img @click=\"showImgWarp(index)\" :src=\"item.tree_imgs?item.tree_imgs[0]:''\"alt=\"\"></Col>\n            <Col span=\"17\">\n              <span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">￥{{item.tree_price}}</span>\n              <span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">{{item.tree_num}}株</span>\n              <span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">{{item.tree_address?item.tree_address:'无地址'}}</span>\n              <span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">{{item.userInfo?item.userInfo:'无姓名'}}</span>\n              <span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">{{item.userInfo?item.userInfo:'无电话'}}</span>\n            </Col>\n            <Col span=\"4\">\n              <Button type=\"info\"v-show=\"item.tender_status != 2\" style=\"margin-right: 30px\" @click=\"recommend(index)\">推荐</Button>\n              <Button type=\"error\" v-show=\"item.tender_status != 3\" @click=\"abandon(index)\">舍弃</Button>\n            </Col>\n          </Row>\n        </Card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { changeBidStatus } from '@/api/data'\n    export default {\n      name: \"project-info-extend\",\n      props: {\n        params: Object\n      },\n      data () {\n        return {\n          value1: 0,\n          imgwarp:false,\n          bidList:[],\n          warpImgs:[],\n          abandonValue:\"\",\n          tender_status:1\n\n        }\n      },\n      methods: {\n        tabclick(name){\n          this.tender_status = name+1;\n        },\n        closeImgWarp(e){\n          if(e.target.className != \"img-warp-inner\")return\n          this.imgwarp =false\n        },\n        showImgWarp(index){\n          let bidOne = this.bidList[index];\n          if(!bidOne.tree_imgs){\n            return\n          }\n          this.warpImgs = bidOne.tree_imgs;\n          this.imgwarp = true\n        },\n        abandon(index){\n          this.abandonValue = \"\";\n          this.$Modal.confirm({\n            title:\"舍弃理由\",\n            render: (h) => {\n              return h('Input', {\n                props: {\n                  value: this.abandonValue,\n                  autofocus: \"autofocus\",\n                  placeholder: '请输入舍弃理由!'\n                },\n                on: {\n                  input: (val) => {\n                    this.abandonValue = val;\n                  }\n                }\n              })\n            },\n            onOk:()=>{\n              if(this.abandonValue ==\"\"){\n                this.$Message.warning({\n                  content:\"请填写舍弃理由！\"\n                })\n              }else{\n                this.changeStatus(index,false)\n              }\n            }\n          })\n          //解决框架自行获取焦点Bug\n          setTimeout(function () {\n            document.getElementsByClassName(\"ivu-input\")[0].focus()\n          },100)\n\n        },\n        recommend(index){\n          this.$Modal.confirm({\n            title: \"推荐\",\n            content:\"确定推荐本条投标吗？\",\n            \"ok-text\":\"推荐\",\n            onOk:() =>{\n              this.changeStatus(index,true)\n            }\n\n          })\n        },\n        changeStatus(index,is){\n          let bidOne = this.bidList[index];\n          let data = {\n            tender_order_id:bidOne.tender_order_id,\n            status:is?2:3,\n            remark:is?\"\":this.abandonValue\n          }\n          changeBidStatus(data).then(res =>{\n            if (res.data.status == 0){\n              this.$Message.success({\n                content: \"操作成功\",\n              })\n              this.$set(this.bidList[index],\"tender_status\",is?2:3);\n            }else{\n              this.$Message.warning({\n                content:\"服务器繁忙\"\n              })\n            }\n          })\n        }\n      },\n      mounted(){\n        this.bidList = this.params.row.bid_list\n      },\n      directives: {\n        focus: {\n          // 指令的定义\n          inserted: function (el) {\n            el.focus()\n          }\n        }\n      }\n\n    }\n</script>\n\n\n"],"sourceRoot":"src\\view\\project\\project-info"}]}