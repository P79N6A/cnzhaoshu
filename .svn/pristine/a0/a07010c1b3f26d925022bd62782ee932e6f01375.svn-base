{"remainingRequest":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue","mtime":1536828034027},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\.babelrc","mtime":1536565681652},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536566309539},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\zhaoshuwang\\\\admin\\\\iview-admin\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getBidInfo } from '@/api/data';\nimport { getRemoveagsNav } from \"@/libs/util\";\nimport { mapMutations, mapActions } from 'vuex';\nimport expandRow from './project-info-extend';\nexport default {\n  components: {\n    expandRow: expandRow\n  },\n  data: function data() {\n    return {\n      columns: [{\n        type: 'expand',\n        width: 50,\n        render: function render(h, params) {\n          console.log(params);\n          return h(expandRow, {\n            props: {\n              params: params\n            }\n          });\n        }\n      }, {\n        title: '苗木',\n        key: 'tree_name'\n      }, {\n        title: '规格',\n        render: function render(h, params) {\n          var str = \"\";\n          var dbh = params.row.dbh ? \"\\u80F8\\u5F84:\".concat(params.row.dbh, \"cm\") : \"\";\n          var plant_height = params.row.plant_height ? \"\\u682A\\u9AD8:\".concat(params.row.plant_height, \"cm\") : \"\";\n          var crown = params.row.crown ? \"\\u51A0\\u5E45:\".concat(params.row.crown, \"cm\") : \"\";\n          var ground_diameter = params.row.ground_diameter ? \"\\u5730\\u5F84:\".concat(params.row.ground_diameter, \"cm\") : \"\";\n          str = dbh + plant_height + crown + ground_diameter;\n          return h('div', [h('Icon', {\n            props: {\n              type: 'person'\n            }\n          }), h('strong', str)]);\n        }\n      }, {\n        title: '备注',\n        key: 'remarks'\n      }, {\n        title: '数量',\n        key: 'tree_num'\n      }, {\n        title: '招标进度',\n        key: 'price'\n      }, {\n        title: '已审核',\n        key: 'price'\n      }, {\n        title: '待审核',\n        key: 'price'\n      }],\n      treeList: [],\n      isflex: false\n    };\n  },\n  methods: _objectSpread({}, mapMutations(['setBreadCrumb', 'setTagNavList', 'addTag', 'setLocal', 'removeTag']), {\n    getInfo: function getInfo() {\n      var _this = this;\n\n      this.$Message.loading({\n        content: '加载中',\n        duration: 0\n      });\n      var res = {\n        project_id: this.id\n      };\n      getBidInfo(res).then(function (res) {\n        _this.$Message.destroy();\n\n        _this.bidInfo = res.data.data;\n        _this.treeList = res.data.data.tree_list;\n      });\n    },\n    extendRow: function extendRow(row, index) {\n      this.$set(this.treeList[index], '_expanded', !this.treeList[index]._expanded);\n    },\n    handleScroll: function handleScroll(e) {\n      var scrollTop = e.target.scrollTop;\n      var topHeight = document.getElementsByClassName(\"ivu-table-wrapper\")[0].offsetTop - 64;\n\n      if (scrollTop > topHeight) {\n        this.isflex = true;\n      } else {\n        this.isflex = false;\n      }\n    }\n  }),\n  mounted: function mounted() {\n    this.id = this.$route.params.id;\n    this.getInfo();\n    document.getElementsByClassName(\"content-wrapper\")[0].addEventListener('scroll', this.handleScroll);\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.getElementsByClassName(\"content-wrapper\")[0].removeEventListener('scroll', this.handleScroll);\n  }\n};",null]}