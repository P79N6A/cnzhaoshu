{"remainingRequest":"D:\\zhaoshu\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\zhaoshu\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhaoshu\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhaoshu\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue","mtime":1537164969007},{"path":"D:\\zhaoshu\\admin\\iview-admin\\.babelrc","mtime":1536565681652},{"path":"D:\\zhaoshu\\admin\\iview-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536566309539},{"path":"D:\\zhaoshu\\admin\\iview-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\zhaoshu\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\zhaoshu\\\\admin\\\\iview-admin\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getBidInfo } from '@/api/data';\nimport { getRemoveagsNav } from '@/libs/util';\nimport { mapMutations } from 'vuex';\nimport expandRow from './project-info-extend';\nexport default {\n  components: {\n    expandRow: expandRow\n  },\n  data: function data() {\n    return {\n      columns: [{\n        type: 'expand',\n        width: 50,\n        render: function render(h, params) {\n          return h(expandRow, {\n            props: {\n              params: params\n            }\n          });\n        }\n      }, {\n        title: '苗木',\n        key: 'tree_name'\n      }, {\n        title: '规格',\n        render: function render(h, params) {\n          var str = '';\n          var dbh = params.row.dbh ? \"\\u80F8\\u5F84:\".concat(params.row.dbh, \"cm\") : '';\n          var plant_height = params.row.plant_height ? \"\\u682A\\u9AD8:\".concat(params.row.plant_height, \"cm\") : '';\n          var crown = params.row.crown ? \"\\u51A0\\u5E45:\".concat(params.row.crown, \"cm\") : '';\n          var ground_diameter = params.row.ground_diameter ? \"\\u5730\\u5F84:\".concat(params.row.ground_diameter, \"cm\") : '';\n          str = dbh + plant_height + crown + ground_diameter;\n          return h('div', [h('Icon', {\n            props: {\n              type: 'person'\n            }\n          }), h('strong', str)]);\n        }\n      }, {\n        title: '备注',\n        key: 'remarks'\n      }, {\n        title: '数量',\n        key: 'tree_num'\n      }, {\n        title: '招标进度',\n        key: 'totle_recommed'\n      }, {\n        title: '已审核',\n        key: 'totol_order',\n        render: function render(h, params) {\n          return h('div', [h('Icon', {\n            props: {\n              type: 'person'\n            }\n          }), h('strong', params.row.totol_order - params.row.unexam_order)]);\n        }\n      }, {\n        title: '待审核',\n        key: 'unexam_order'\n      }],\n      treeList: [],\n      isflex: false\n    };\n  },\n  methods: _objectSpread({}, mapMutations(['setBreadCrumb', 'setTagNavList', 'addTag', 'setLocal', 'removeTag']), {\n    getInfo: function getInfo() {\n      var _this = this;\n\n      this.$Message.loading({\n        content: '加载中',\n        duration: 0\n      });\n      var res = {\n        project_id: this.id\n      };\n      getBidInfo(res).then(function (res) {\n        _this.$Message.destroy();\n\n        _this.bidInfo = res.data.data;\n        _this.treeList = res.data.data;\n      });\n    },\n    extendRow: function extendRow(row, index) {\n      this.$set(this.treeList[index], '_expanded', !this.treeList[index]._expanded);\n    },\n    handleScroll: function handleScroll(e) {\n      var scrollTop = e.target.scrollTop;\n      var topHeight = document.getElementsByClassName('ivu-table-wrapper')[0].offsetTop - 64;\n\n      if (scrollTop > topHeight) {\n        this.isflex = true;\n      } else {\n        this.isflex = false;\n      }\n    }\n  }),\n  mounted: function mounted() {\n    this.id = this.$route.params.id;\n    this.getInfo();\n    document.getElementsByClassName('content-wrapper')[0].addEventListener('scroll', this.handleScroll);\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.getElementsByClassName('content-wrapper')[0].removeEventListener('scroll', this.handleScroll);\n  }\n};",{"version":3,"sources":["project-info.vue"],"names":[],"mappings":"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","sourcesContent":["<style scoped>\n  .bid-info span {\n    margin-right: 30px;\n  }\n\n  .bid-info div:last-of-type {\n    margin-top: 10px;\n  }\n</style>\n<template>\n  <div>\n    <div class=\"bid-info\">\n      <Card>\n        <div>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">订单编号：12321321321321321</span>\n          </td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">项目名称：WEB测试项目单</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">甲方：北京市北京市北京市</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">用苗地：北京市北京市北京市</span></td>\n        </div>\n        <div>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">招标进度：80%</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">剩余时间：5天</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">联系人：哇大大</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">联系电话：15532324242</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">待审核：5</span></td>\n        </div>\n      </Card>\n      <div>\n      </div>\n      <Table :columns=\"columns\" :data=\"treeList\" @on-row-click=\"extendRow\" :class=\"isflex?'flextree_list':''\"></Table>\n    </div>\n  </div>\n</template>\n<script>\n  import {getBidInfo} from '@/api/data'\n  import {getRemoveagsNav} from '@/libs/util'\n  import {mapMutations} from 'vuex'\n  import expandRow from './project-info-extend'\n  export default {\n    components: {expandRow},\n    data () {\n      return {\n        columns: [\n          {\n            type: 'expand',\n            width: 50,\n            render: (h, params) => {\n              return h(expandRow, {\n                props: {\n                  params: params\n                }\n              })\n            }\n          },\n          {\n            title: '苗木',\n            key: 'tree_name'\n          },\n          {\n            title: '规格',\n            render: (h, params) => {\n              let str = ''\n              let dbh = params.row.dbh ? `胸径:${params.row.dbh}cm` : ''\n              let plant_height = params.row.plant_height ? `株高:${params.row.plant_height}cm` : ''\n              let crown = params.row.crown ? `冠幅:${params.row.crown}cm` : ''\n              let ground_diameter = params.row.ground_diameter ? `地径:${params.row.ground_diameter}cm` : ''\n              str = dbh + plant_height + crown + ground_diameter\n              return h('div', [\n                h('Icon', {\n                  props: {\n                    type: 'person'\n                  }\n                }),\n                h('strong', str)\n              ])\n            }\n          },\n          {\n            title: '备注',\n            key: 'remarks'\n          },\n          {\n            title: '数量',\n            key: 'tree_num'\n          },\n          {\n            title: '招标进度',\n            key: 'totle_recommed'\n          },\n          {\n            title: '已审核',\n            key: 'totol_order',\n            render: (h, params) => {\n              return h('div', [\n                h('Icon', {\n                  props: {\n                    type: 'person'\n                  }\n                }),\n                h('strong', params.row.totol_order - params.row.unexam_order)\n              ])\n            }\n          },\n          {\n            title: '待审核',\n            key: 'unexam_order'\n          }\n        ],\n        treeList: [],\n        isflex: false\n      }\n    },\n    methods: {\n      ...mapMutations([\n        'setBreadCrumb',\n        'setTagNavList',\n        'addTag',\n        'setLocal',\n        'removeTag',\n      ]),\n      getInfo () {\n        this.$Message.loading({\n          content: '加载中',\n          duration: 0\n        })\n        let res = {project_id: this.id}\n        getBidInfo(res).then(res => {\n          this.$Message.destroy()\n          this.bidInfo = res.data.data\n          this.treeList = res.data.data\n        })\n      },\n      extendRow (row, index) {\n        this.$set(this.treeList[index], '_expanded', !this.treeList[index]._expanded)\n      },\n      handleScroll (e) {\n        var scrollTop = e.target.scrollTop\n        var topHeight = document.getElementsByClassName('ivu-table-wrapper')[0].offsetTop - 64\n        if (scrollTop > topHeight) {\n          this.isflex = true\n        } else {\n          this.isflex = false\n        }\n      }\n    },\n    mounted () {\n      this.id = this.$route.params.id\n      this.getInfo()\n      document.getElementsByClassName('content-wrapper')[0].addEventListener('scroll', this.handleScroll)\n    },\n    beforeDestroy () {\n      document.getElementsByClassName('content-wrapper')[0].removeEventListener('scroll', this.handleScroll)\n    }\n  }\n</script>\n"],"sourceRoot":"src\\view\\project\\project-info"}]}