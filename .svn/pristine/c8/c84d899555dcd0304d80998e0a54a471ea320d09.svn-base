{"remainingRequest":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\src\\view\\project\\project-info\\project-info.vue","mtime":1536827504744},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536566309539},{"path":"D:\\zhaoshuwang\\admin\\iview-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n.flextree_list .ivu-table-header{\n  position: fixed !important;\n  top:64px !important;\n}\n",{"version":3,"sources":["project-info.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA","file":"project-info.vue","sourceRoot":"src\\view\\project\\project-info","sourcesContent":["<style scoped>\n  .bid-info span{\n    margin-right: 30px;\n  }\n  .bid-info div:last-of-type{\n    margin-top: 10px;\n  }\n</style>\n<style>\n  .flextree_list .ivu-table-header{\n    position: fixed !important;\n    top:64px !important;\n  }\n</style>\n<template>\n  <div>\n    <div class=\"bid-info\">\n      <Card>\n        <div>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">订单编号：12321321321321321</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">项目名称：WEB测试项目单</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">甲方：北京市北京市北京市</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">用苗地：北京市北京市北京市</span></td>\n        </div>\n        <div>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">招标进度：80%</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">剩余时间：5天</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">联系人：哇大大</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">联系电话：15532324242</span></td>\n          <td><span style=\"font-size: 14px; font-weight: bold; color: rgb(70, 76, 91);\">待审核：5</span></td>\n        </div>\n      </Card >\n      <div>\n    </div>\n      <Table :columns=\"columns\" :data=\"treeList\" @on-row-click=\"extendRow\" :class=\"isflex?'flextree_list':''\"></Table>\n    </div>\n  </div>\n</template>\n<script>\n  import { getBidInfo } from '@/api/data'\n  import {getRemoveagsNav} from \"@/libs/util\"\n  import { mapMutations, mapActions } from 'vuex'\n  import expandRow from './project-info-extend';\n  export default {\n    components: { expandRow },\n    data () {\n      return {\n        columns: [\n          {\n            type: 'expand',\n            width: 50,\n            render: (h, params) => {\n              console.log(params)\n              return h(expandRow, {\n                props: {\n                  params: params\n                }\n              })\n            }\n          },\n          {\n            title: '苗木',\n            key: 'tree_name'\n          },\n          {\n            title: '规格',\n            render: (h, params) => {\n              let str = \"\"\n              let dbh = params.row.dbh?`胸径:${params.row.dbh}cm`:\"\";\n              let plant_height = params.row.plant_height?`株高:${params.row.plant_height}cm`:\"\"\n              let crown = params.row.crown?`冠幅:${params.row.crown}cm`:\"\"\n              let ground_diameter = params.row.ground_diameter?`地径:${params.row.ground_diameter}cm`:\"\"\n              str = dbh+plant_height+crown+ground_diameter\n              return h('div', [\n                h('Icon', {\n                  props: {\n                    type: 'person'\n                  }\n                }),\n                h('strong',str)\n              ]);\n            }\n          },\n          {\n            title: '备注',\n            key: 'remarks'\n          },\n          {\n            title: '数量',\n            key: 'tree_num'\n          },\n          {\n            title: '招标进度',\n            key: 'price'\n          },\n          {\n            title: '已审核',\n            key: 'price'\n          },\n          {\n            title: '待审核',\n            key: 'price'\n          }\n        ],\n        treeList:[],\n        isflex:false\n      }\n    },\n    methods: {\n      ...mapMutations([\n        'setBreadCrumb',\n        'setTagNavList',\n        'addTag',\n        'setLocal',\n        'removeTag',\n      ]),\n      getInfo(){\n        this.$Message.loading({\n          content: '加载中',\n          duration: 0\n        });\n        let res = {project_id : this.id};\n        getBidInfo(res).then(res =>{\n          this.$Message.destroy()\n          this.bidInfo = res.data.data;\n          this.treeList = res.data.data.tree_list;\n        })\n      },\n      extendRow(row,index){\n        this.$set(this.treeList[index], '_expanded',!this.treeList[index]._expanded)\n      },\n      handleScroll(e){\n        var scrollTop = e.target.scrollTop;\n        var topHeight = document.getElementsByClassName(\"ivu-table-wrapper\")[0].offsetTop-64;\n        if(scrollTop > topHeight){\n          this.isflex = true\n        }else{\n          this.isflex = false\n        }\n      }\n    },\n    mounted(){\n      this.id = this.$route.params.id;\n      this.getInfo();\n      document.getElementsByClassName(\"content-wrapper\")[0].addEventListener('scroll', this.handleScroll)\n    },\n    beforeDestroy (){\n      document.getElementsByClassName(\"content-wrapper\")[0].removeEventListener('scroll', this.handleScroll)\n    }\n  }\n</script>\n"]}]}